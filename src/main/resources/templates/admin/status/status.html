<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Modern Admin Dashboard</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">

<link rel="stylesheet" th:href="@{/css/admin.css}">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
	integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet"
	href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
</head>

<body>
	<div id="handle">
		<section class="row"
			style="position: absolute; left: 34vw; top: 10vh;">
			<div class="col-12">
				<form th:action="@{/admin/status/new}" method="post"
					th:object="${status}">
					<div class="card">
						<i id="exit" class="fa-solid fa-x" style="margin-left: 37vw;"></i>

						<div class="card-body">
							<div class="row">
								<div class="col">
									<div class="form-group">
										<label for="email">Mã đơn hàng</label> <input type="text"
											class="form-control" name="orderID" id=""
											aria-describedby="orderID" placeholder="OrderID"
											th:field="*{statusID}">

									</div>
									<div class="form-group">
										<label for="email">Trạng thái</label> <select
											th:field="*{statusname}"
											style="height: 35px; border: 1px solid #b0b0b0; border-radius: 3px; display: inline-block; width: 250px; padding: 0rem .5rem; margin-right: .8rem; color: #666;">
											<option th:value="New" th:text="Mới"></option>
											<option th:value="WaitForConfirmation">Chờ xác nhận</option>
											<option th:value="Shipping">Đang giao hàng</option>
											<option th:value="OutofStock">Hết hàng</option>
											<option th:value="CustomerCancels">Khách hàng huỷ bot</option>
											<option th:value="Complete">Hoàn thành đơn hàng</option>
											<option th:value="InComplete">Chưa hoàn thành</option>
										</select>

									</div>
									<div class="form-group">
										<label for="Phone">Lý do</label> <input type="text"
											class="form-control" name="reason" id="reason"
											placeholder="Lý do" th:field="*{reason}">
									</div>

								</div>
								<div class="col">
									<div class="form-group">
										<label for="">Ghi chú</label> <input type="text"
											class="form-control" name="notes" id="notes"
											aria-describedby="noteshelpId" placeholder="Ghi chú"
											th:field="*{notes}">
									</div>

									<div class="form-group">
										<label for="transportFee">Phí vận chuyển</label> <input
											type="text" class="form-control" name="transportFee"
											id="transportFee" th:field="*{transportFee}"
											/>

									</div>

									<div class="form-group">
										<label for="Address">Phí thu từ khách hàng</label> <input
											type="text" class="form-control" name="feeCollected"
											id="feeCollected" aria-describedby="feeCollectedhelpId"
											placeholder="Phí thu từ khách hàng"
											th:field="*{feeCollected}">
									</div>

								</div>
							</div>
						</div>
						<div class="card-footer">

							<button class="btn">Chỉnh sửa</button>
							<button class="btn">
								<a th:href="@{/admin/status}">Làm mới</a>
							</button>
						</div>
					</div>

				</form>
		</section>
	</div>
	<input type="checkbox" id="menu-toggle">
	<div th:replace="admin/sidemenu :: div"></div>
	<div class="main-content">
		<header>
			<div class="header-content">
				<label for="menu-toggle"> <span class="las la-bars"></span>
				</label>

				<div class="header-menu">
					<label for=""> <span class="las la-search"></span>
					</label>

					<div class="notify-icon">
						<span class="las la-envelope"></span> <span class="notify">4</span>
					</div>

					<div class="notify-icon">
						<span class="las la-bell"></span> <span class="notify">3</span>
					</div>

					<div class="user">
						<!-- <div class="bg-img" style="background-image: url(img/1.jpeg)"></div> -->

						<span><a th:href="@{/logout}" class="log">Đăng xuất</a></span>
					</div>
				</div>
			</div>
		</header>
		<main>
			<div class="page-header">
				<h1>Trạng thái đơn hàng</h1>
				<small>Quản lý / Trạng thái đơn hàng</small>
			</div>
			<div class="page-content">

				<div class="records table-responsive">
					<div class="record-header">
						<div class="add">
							<span>Mục</span> <select name="" id="">
								<option value="">ID</option>
							</select>
							<button id="Addrecord">Chỉnh sửa trạng thái</button>
						</div>

						<div class="browse">
							<form th:action="@{/admin/search}" method="get">
								<input type="search" placeholder="Tìm kiếm" class="record-search"
									name="keyword">
								<button type="submit">Tìm kiếm</button>
							</form>

						</div>
					</div>
					<div>
						<table width="100%">
							<thead>
								<tr>
									<th><span class="las la-sort"></span> Mã hoá đơn</th>
									<th><span class="las la-sort"></span> Trạng thái</th>
									<th><span class="las la-sort"></span> Mô tả</th>
									<th><span class="las la-sort"></span> Lý do</th>
									<th><span class="las la-sort"></span> Ghi chú</th>
									<th><span class="las la-sort"></span> Ngày hoàn thành</th>
									<th><span class="las la-sort"></span> Phí vận chuyền</th>
									<th><span class="las la-sort"></span> Phí thu từ khách hàng</th>
									<th></th>
								</tr>
							</thead>


							<tbody>
								<tr th:each="p: ${statuss}">
									<td>[[${p.statusID}]]</td>
									<td>[[${p.statusname}]]</td>
									<td>[[${p.description}]]</td>
									<td>[[${p.reason}]]</td>
									<td>[[${p.notes}]]</td>
									<td th:text="${#dates.format(p.createDate, 'dd/MM/yyyy')}"></td>
									<td
										th:text="${#numbers.formatDecimal(p.transportFee, 0, 'COMMA', 0, 'POINT')} + ' VND'"></td>

									<td
										th:text="${#numbers.formatDecimal(p.feeCollected, 0, 'COMMA', 0, 'POINT')} + ' VND'"></td>
									<td><a
										th:href="@{/admin/status/edit/{statusID}(statusID=${p.statusID})}">Chỉnh sửa</a></td>
								</tr>
							</tbody>
						</table>
							

							<!-- Hiển thị các liên kết chuyển đến các trang khác nhau -->
							<ul class="pagination">
								<li class="page-item"
									th:class="${currentPage == 1 ? 'disabled' : ''}"><a
									class="page-link" th:href="@{/admin/status(page=0)}">Trang đầu</a></li>
								<li class="page-item"
									th:each="pageNumber : ${#numbers.sequence(1, totalPages)}">
									<a class="page-link"
									th:href="@{/admin/status(page=${pageNumber - 1})}"
									th:text="${pageNumber}"></a>
								</li>
								<li class="page-item"
									th:class="${currentPage == totalPages ? 'disabled' : ''}">
									<a class="page-link"
									th:href="@{/admin/status(page=${totalPages - 1})}">Trang cuối</a>
								</li>
							</ul>
						
					</div>

				</div>

			</div>

		</main>

	</div>
</body>
<script>
        const Add = document.querySelector("#Addrecord")
        const handleclick = () => {
            handle.classList.toggle("handle")
        }
        Add.addEventListener("click",handleclick)
        document.querySelector("#exit").addEventListener("click",()=>{
            // const handle = document.querySelector(".handle")
            handle.classList.remove("handle")
        })
        
    </script>
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
</html>