<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1,maximum-scale=1" name="viewport">
    <title>Modern Admin Dashboard</title>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/admin.css}">
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
          integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
          referrerpolicy="no-referrer" rel="stylesheet"/>
    <link href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css"
          rel="stylesheet">
</head>
<script>
    function chooseFileavt(fileinput) {
        if (fileinput.files && fileinput.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#avt').attr('src', e.target.result);
            }
            reader.readAsDataURL(fileinput.files[0]);
        }
    }

    function chooseFileimg(fileinput) {
        let fileimg = fileinput.files
        if (fileimg.length > 0) {
            for (let idx = 0; idx < fileimg.length; idx++) {
                let filetoload = fileimg[idx]
                var filereader = new FileReader();
                filereader.onload = function (e) {
                    let srcData = e.target.result
                    let newImg = document.createElement('img')
                    newImg.src = srcData
                    newImg.setAttribute("style", "width : 60px;height: 60px; padding-bottom : 10px")
                    document.getElementById("img").innerHTML += newImg.outerHTML

                }
                filereader.readAsDataURL(filetoload);
            }
        }

    }
</script>
<body>
<div id="handle">
    <section class="row" style="position: absolute; left: 25vw; top: 10vh; width: 60%; height: 30%;">
        <div class="col-12">
            <form action="" method="post">
                <div class="card">
                    <i class="fa-solid fa-x" id="exit" style="margin-left: 54vw;"></i>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4">
                                <div class="border p-3">
                                    <form action="">
                                        <input accept="image/gif, image/png,image/jpeg,imagee/jpg" id="avtimg" name="" onchange="chooseFileavt(this)"
                                               style="display: none;"
                                               type="file">
                                        <label for="avtimg"><img alt="" src="/images/addAvatar.png" style="width: 40px;">
                                            Add img avatar</label>
                                        <img alt="" id="avt" src="" width="100">
                                    </form>
                                </div>
                                <div class="border p-3">
                                    <form action="">
                                        <input accept="image/gif, image/png,image/jpeg,imagee/jpg" id="imginput" name="imginput" onchange="chooseFileimg(this)"
                                               style="display: none;"
                                               type="file">
                                        <label for="imginput"><img alt="" src="/images/addAvatar.png"
                                                                   style="width: 40px;"> Add img</label>
                                        <div id="img">
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label for="">ProductID</label>
                                    <input aria-describedby="ProductIDhelpId" class="form-control" id="ProductID" name="ProductID"
                                           placeholder="Product ID" type="text">
                                </div>
                                <div class="form-group">
                                    <label for="productName">Product Name</label>
                                    <input aria-describedby="productNamehelpId" class="form-control" id="productName" name="productName"
                                           placeholder="product Name" type="text">
                                </div>
                                <div class="form-group">
                                    <label for="viewcount">Available</label>
                                    <input aria-describedby="AvailablehelpId" class="form-control" id="Available" name="Available"
                                           placeholder="Available" type="number">
                                </div>

                            </div>
                            <div class="col-4">
                                <div class="form-group">
                                    <label> Category ID</label>
                                    <select class="form-control" id="categoryid" name="">
                                        <option th:each="category : ${category}" th:text="${category.name}"
                                                th:value="${category.categoryID}"></option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="createdDate"> created Date </label>
                                    <input aria-describedby="createdDatehelpId" class="form-control" id="createdDate" name="createdDate"
                                           placeholder=" created Date" type="text">
                                </div>
                                <div class="form-group">
                                    <label for="viewcount">Price</label>
                                    <input aria-describedby="AvailablehelpId" class="form-control" id="viewcount" name="Available"
                                           placeholder="Available" type="number">
                                </div>
                            </div>
                            <div class="col-4"></div>
                            <div class="col-8">
                                <label for="description">description</label>
                                <textarea class="form-control" cols="1" id="description" name="description"
                                          rows="2"></textarea></div>

                        </div>
                    </div>
                    <div class="card-footer text-muted">
                        <button class="btn ">create</button>
                        <button class="btn ">update</button>
                        <button class="btn ">delete</button>
                        <button class="btn ">reset</button>
                    </div>
                </div>
            </form>

        </div>
    </section>
</div>
<input id="menu-toggle" type="checkbox">
<div th:replace="admin/sidemenu :: div"></div>
<div class="main-content">
    <header>
        <div class="header-content">
            <label for="menu-toggle">
                <span class="las la-bars"></span>
            </label>

            <div class="header-menu">
                <label for="">
                    <span class="las la-search"></span>
                </label>

                <div class="notify-icon">
                    <span class="las la-envelope"></span>
                    <span class="notify">4</span>
                </div>

                <div class="notify-icon">
                    <span class="las la-bell"></span>
                    <span class="notify">3</span>
                </div>

                <div class="user">
                    <div class="bg-img" style="background-image: url(/images/1.jpeg)"></div>

                    <span class="las la-power-off"></span>
                    <span>Logout</span>
                </div>
            </div>
        </div>
    </header>
    <main>
        <div class="page-header">
            <h1>Products Management</h1>
            <small>Home / User</small>
        </div>
        <div class="page-content">
            <div class="analytics">

                <div class="card">
                    <div class="card-head">
                        <h2>107,200</h2>
                        <span class="las la-user-friends"></span>
                    </div>
                    <div class="card-progress">
                        <small>User activity this month</small>
                        <div class="card-indicator">
                            <div class="indicator one" style="width: 60%"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-head">
                        <h2>340,230</h2>
                        <span class="las la-eye"></span>
                    </div>
                    <div class="card-progress">
                        <small>Page views</small>
                        <div class="card-indicator">
                            <div class="indicator two" style="width: 80%"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-head">
                        <h2>$653,200</h2>
                        <span class="las la-shopping-cart"></span>
                    </div>
                    <div class="card-progress">
                        <small>Monthly revenue growth</small>
                        <div class="card-indicator">
                            <div class="indicator three" style="width: 65%"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-head">
                        <h2>47,500</h2>
                        <span class="las la-envelope"></span>
                    </div>
                    <div class="card-progress">
                        <small>New E-mails received</small>
                        <div class="card-indicator">
                            <div class="indicator four" style="width: 90%"></div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="records table-responsive">
                <div class="record-header">
                    <div class="add">
                        <span>Entries</span>
                        <select id="" name="">
                            <option value="">ID</option>
                        </select>
                        <button id="Addrecord">Add Product</button>
                    </div>

                    <div class="browse">
                        <input class="record-search" placeholder="Search" type="search">
                        <select name="">
                            <option value="">Status</option>
                        </select>
                    </div>
                </div>
                <div>
                    <table>
                        <thead>

                        <th><span class="las la-sort"></span> Product Name</th>
                        <th><span class="las la-sort"></span> available</th>
                        <th><span class="las la-sort"></span> Price</th>
                        <th><span class="las la-sort"></span> Image</th>
                        <th><span class="las la-sort"></span> created Date</th>
                        <th><span class="las la-sort"></span> categoryID</th>
                        <th><span class="las la-sort"></span> deprecated</th>
                        <th><span class="las la-sort"></span> Description</th>

                        </thead>
                        <tbody>
                        <tr th:each="product : ${product}">
                            <td>[[${product.name}]]</td>
                            <td>[[${product.available}]]</td>
                            <td>[[${product.price}]]</td>
                            <td><img th:src="@{'/images/product/'+ ${product.img}}" width="80px"></td>
                            <td>[[${product.createDate}]]</td>
                            <td>[[${product.category.name}]]</td>
                            <td>[[${product.deprecated == true ? "Ngưng bán" : "Đang bán"}]]</td>
                            <td>[[${product.description}]]</td>

                        </tr>


                        </tbody>
                    </table>
                </div>

            </div>

        </div>

    </main>

</div>
</body>
<script crossorigin="anonymous"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script>
    const Add = document.querySelector("#Addrecord")
    const handleclick = () => {
        handle.classList.toggle("handle")
    }
    Add.addEventListener("click", handleclick)
    document.querySelector("#exit").addEventListener("click", () => {
        // const handle = document.querySelector(".handle")
        handle.classList.remove("handle")
    })
</script>
</html>